{"version":3,"file":"main-TFlLsd75.js","sources":["../../src/js/api.js","../../src/js/markup.js","../../src/js/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '47647589-b8e3be9abf9fcf69ccbc2b85f';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport function fetchImages(query) {\n  const params = {\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: 20,\n  };\n\n  return axios\n    .get(BASE_URL, { params })\n    .then(response => response.data.hits)\n    .catch(error => {\n      console.error('API error:', error);\n      throw new Error('Failed to fetch images');\n    });\n}\n","export function createGalleryMarkup(images) {\n  return images\n    .map(image => {\n      return `\n          <a href=\"${image.largeImageURL}\">\n            <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n            <div class=\"card-info\">\n              <div class=\"info-block\">\n                <p class=\"label\">Likes</p>\n                <p class=\"value\">${image.likes}</p>\n              </div>\n              <div class=\"info-block\">\n                <p class=\"label\">Views</p>\n                <p class=\"value\">${image.views}</p>\n              </div>\n              <div class=\"info-block\">\n                <p class=\"label\">Comments</p>\n                <p class=\"value\">${image.comments}</p>\n              </div>\n              <div class=\"info-block\">\n                <p class=\"label\">Downloads</p>\n                <p class=\"value\">${image.downloads}</p>\n              </div>\n            </div>\n          </a>\n        `;\n    })\n    .join('');\n}\n","import { fetchImages } from './api'; // Henüz yazmadık, az sonra yazacağız\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { createGalleryMarkup } from './markup.js';\n\n// DOM elemanları\nconst form = document.querySelector('#search-form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\n// Lightbox tanımla\nlet lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const searchQuery = form.elements.searchQuery.value.trim();\n\n  if (!searchQuery) {\n    iziToast.warning({\n      title: 'Oops!',\n      message: 'Please enter a search term!',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  form.elements.searchQuery.disabled = true;\n  form.elements.searchQuery.style.opacity = '0.5';\n\n  gallery.innerHTML = '';\n  loader.classList.remove('hidden');\n\n  fetchImages(searchQuery)\n    .then(images => {\n      if (images.length === 0) {\n        iziToast.error({\n          title: '',\n          message:\n            'Sorry, there are no images matching your search query.<br>Please, try again!',\n          position: 'topRight',\n          backgroundColor: '#EF4040',\n          messageColor: '#FFFFFF',\n          titleColor: '#FFFFFF',\n          timeout: 4000,\n          layout: 2,\n          maxWidth: 432,\n          class: 'custom-toast',\n          iconUrl: 'https://cdn-icons-png.flaticon.com/512/1828/1828665.png',\n          progressBarColor: '#B51B1B',\n        });\n        return;\n      }\n\n      const markup = createGalleryMarkup(images);\n      gallery.innerHTML = markup;\n      lightbox.refresh();\n    })\n    .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        message: 'Something went wrong. Please try again.',\n        position: 'topRight',\n      });\n    })\n    .finally(() => {\n      loader.classList.add('hidden');\n      form.elements.searchQuery.disabled = false;\n      form.elements.searchQuery.style.opacity = '1';\n      form.reset();\n    });\n});\n"],"names":["API_KEY","BASE_URL","fetchImages","query","params","axios","response","error","createGalleryMarkup","images","image","form","gallery","loader","lightbox","SimpleLightbox","event","searchQuery","iziToast","markup"],"mappings":"6vBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,SAASC,EAAYC,EAAO,CACjC,MAAMC,EAAS,CACb,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACd,EAEE,OAAOE,EACJ,IAAIJ,EAAU,CAAE,OAAAG,EAAQ,EACxB,KAAKE,GAAYA,EAAS,KAAK,IAAI,EACnC,MAAMC,GAAS,CACd,cAAQ,MAAM,aAAcA,CAAK,EAC3B,IAAI,MAAM,wBAAwB,CAC9C,CAAK,CACL,CCtBO,SAASC,EAAoBC,EAAQ,CAC1C,OAAOA,EACJ,IAAIC,GACI;AAAA,qBACQA,EAAM,aAAa;AAAA,wBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,mCAI3BA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,mCAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,mCAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,mCAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,SAK7C,EACA,KAAK,EAAE,CACZ,CCpBA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAG/C,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAChB,CAAC,EAEDJ,EAAK,iBAAiB,SAAUK,GAAS,CACvCA,EAAM,eAAc,EAEpB,MAAMC,EAAcN,EAAK,SAAS,YAAY,MAAM,OAEpD,GAAI,CAACM,EAAa,CAChBC,EAAS,QAAQ,CACf,MAAO,QACP,QAAS,8BACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDP,EAAK,SAAS,YAAY,SAAW,GACrCA,EAAK,SAAS,YAAY,MAAM,QAAU,MAE1CC,EAAQ,UAAY,GACpBC,EAAO,UAAU,OAAO,QAAQ,EAEhCX,EAAYe,CAAW,EACpB,KAAKR,GAAU,CACd,GAAIA,EAAO,SAAW,EAAG,CACvBS,EAAS,MAAM,CACb,MAAO,GACP,QACE,+EACF,SAAU,WACV,gBAAiB,UACjB,aAAc,UACd,WAAY,UACZ,QAAS,IACT,OAAQ,EACR,SAAU,IACV,MAAO,eACP,QAAS,0DACT,iBAAkB,SAC5B,CAAS,EACD,MACD,CAED,MAAMC,EAASX,EAAoBC,CAAM,EACzCG,EAAQ,UAAYO,EACpBL,EAAS,QAAO,CACtB,CAAK,EACA,MAAMP,GAAS,CACdW,EAAS,MAAM,CACb,MAAO,QACP,QAAS,0CACT,SAAU,UAClB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbL,EAAO,UAAU,IAAI,QAAQ,EAC7BF,EAAK,SAAS,YAAY,SAAW,GACrCA,EAAK,SAAS,YAAY,MAAM,QAAU,IAC1CA,EAAK,MAAK,CAChB,CAAK,CACL,CAAC"}